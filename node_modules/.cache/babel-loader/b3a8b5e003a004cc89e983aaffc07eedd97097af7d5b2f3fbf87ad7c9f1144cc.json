{"ast":null,"code":"var _jsxFileName = \"/home/mbohach/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0438/personal/tabletop/src/Character/CreateCharacter/DnDForm-component.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { rollDice } from \"../../DiceRoller/Roll-script\"; // Import rollDice function\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DnDForm = ({\n  config\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    sections: {}\n  });\n  const [currentStep, setCurrentStep] = useState(0);\n  const navigate = useNavigate();\n  if (!config || !config.sections) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u041A\\u043E\\u043D\\u0444\\u0456\\u0433\\u0443\\u0440\\u0430\\u0446\\u0456\\u044F \\u043D\\u0435 \\u0437\\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430 \\u0430\\u0431\\u043E \\u043D\\u0435\\u043A\\u043E\\u0440\\u0435\\u043A\\u0442\\u043D\\u0430.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 12\n    }, this);\n  }\n  const handleInputChange = (e, fieldName) => {\n    const {\n      value\n    } = e.target;\n    const sectionName = config.sections[currentStep].name;\n    setFormData(prev => {\n      const updatedSections = {\n        ...prev.sections,\n        [sectionName]: {\n          ...prev.sections[sectionName],\n          [fieldName]: value\n        }\n      };\n\n      // Automatically calculate the modifier if the field is an attribute\n      const attributeFields = [\"strength\", \"dexterity\", \"constitution\", \"intelligence\", \"wisdom\", \"charisma\"];\n      if (attributeFields.includes(fieldName)) {\n        const attributeValue = parseInt(value, 10);\n        const modifier = isNaN(attributeValue) ? \"\" : Math.floor((attributeValue - 10) / 2);\n        updatedSections[sectionName][`${fieldName}-modifier`] = modifier;\n      }\n      return {\n        ...prev,\n        sections: updatedSections\n      };\n    });\n  };\n  const handleRoll = async (field, sectionName, formula) => {\n    try {\n      const rollResult = await rollDice(formula);\n      const sortedRolls = rollResult.rolls.map(r => r.value).sort((a, b) => a - b);\n      const total = sortedRolls.slice(1).reduce((sum, roll) => sum + roll, 0); // Sum the highest 3 rolls\n\n      setFormData(prev => {\n        const updatedSections = {\n          ...prev.sections,\n          [sectionName]: {\n            ...prev.sections[sectionName],\n            [field]: total\n          }\n        };\n\n        // Calculate the modifier immediately after rolling\n        const modifier = Math.floor((total - 10) / 2);\n        updatedSections[sectionName][`${field}-modifier`] = modifier;\n        return {\n          ...prev,\n          sections: updatedSections\n        };\n      });\n    } catch (err) {\n      console.error(\"Error rolling dice:\", err);\n    }\n  };\n  const saveCharacter = async data => {\n    try {\n      const token = localStorage.getItem(\"token\"); // Retrieve token from localStorage\n      if (!token) {\n        throw new Error(\"Token not found. Please log in again.\");\n      }\n      const response = await fetch(\"/api/characters\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}` // Include token in the header\n        },\n        body: JSON.stringify(data)\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to save character: ${response.statusText}`);\n      }\n      const result = await response.json();\n      console.log(\"Character saved successfully:\", result);\n    } catch (err) {\n      console.error(\"Error saving character:\", err);\n    }\n  };\n  const handleNextStep = async () => {\n    if (currentStep < config.sections.length - 1) {\n      await saveCharacter({\n        ...formData,\n        system: config.system,\n        version: config.version\n      }); // Додаємо system і version\n      setCurrentStep(prev => prev + 1);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await saveCharacter({\n      ...formData,\n      system: config.system,\n      version: config.version\n    }); // Додаємо system і version\n    navigate(`/characters/${formData.sections.General.name}`); // Переходимо на сторінку перегляду\n  };\n  const currentSection = config.sections[currentStep];\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"character-form\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"character-form__title\",\n      children: currentSection.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), currentSection.fields.map(field => {\n      var _formData$sections$cu, _formData$sections$cu2;\n      const isAttribute = [\"strength\", \"dexterity\", \"constitution\", \"intelligence\", \"wisdom\", \"charisma\"].includes(field.name);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `character-form__field ${isAttribute ? \"attribute-row\" : \"\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: field.name,\n          className: \"character-form__label\",\n          children: field.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: field.name,\n          name: field.name,\n          type: field.type || \"text\",\n          value: ((_formData$sections$cu = formData.sections[currentSection.name]) === null || _formData$sections$cu === void 0 ? void 0 : _formData$sections$cu[field.name]) || \"\",\n          required: field.required || false,\n          onChange: e => handleInputChange(e, field.name),\n          className: \"character-form__input\",\n          readOnly: field.readonly || false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), isAttribute && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: ((_formData$sections$cu2 = formData.sections[currentSection.name]) === null || _formData$sections$cu2 === void 0 ? void 0 : _formData$sections$cu2[`${field.name}-modifier`]) || \"\",\n            readOnly: true,\n            className: \"character-form__input modifier-input\",\n            placeholder: \"\\u041C\\u043E\\u0434.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this), field.rollable && field.formula && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"roll-button\",\n            onClick: () => handleRoll(field.name, currentSection.name, field.formula),\n            children: \"\\uD83C\\uDFB2 Roll\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)]\n      }, field.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"character-form__navigation\",\n      children: [currentStep > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"navigation-button\",\n        onClick: () => setCurrentStep(prev => prev - 1),\n        children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }, this), currentStep < config.sections.length - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"navigation-button\",\n        onClick: handleNextStep,\n        children: \"\\u0414\\u0430\\u043B\\u0456\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"save-button\",\n        children: \"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u0436\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n_s(DnDForm, \"QBlxdXCML2H4rQ7IhyfOHw9XiQc=\", false, function () {\n  return [useNavigate];\n});\n_c = DnDForm;\nexport default DnDForm;\nvar _c;\n$RefreshReg$(_c, \"DnDForm\");","map":{"version":3,"names":["React","useState","useNavigate","rollDice","jsxDEV","_jsxDEV","Fragment","_Fragment","DnDForm","config","_s","formData","setFormData","sections","currentStep","setCurrentStep","navigate","children","fileName","_jsxFileName","lineNumber","columnNumber","handleInputChange","e","fieldName","value","target","sectionName","name","prev","updatedSections","attributeFields","includes","attributeValue","parseInt","modifier","isNaN","Math","floor","handleRoll","field","formula","rollResult","sortedRolls","rolls","map","r","sort","a","b","total","slice","reduce","sum","roll","err","console","error","saveCharacter","data","token","localStorage","getItem","Error","response","fetch","method","headers","Authorization","body","JSON","stringify","ok","statusText","result","json","log","handleNextStep","length","system","version","handleSubmit","preventDefault","General","currentSection","className","onSubmit","fields","_formData$sections$cu","_formData$sections$cu2","isAttribute","htmlFor","label","id","type","required","onChange","readOnly","readonly","placeholder","rollable","onClick","_c","$RefreshReg$"],"sources":["/home/mbohach/Документи/personal/tabletop/src/Character/CreateCharacter/DnDForm-component.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { rollDice } from \"../../DiceRoller/Roll-script\"; // Import rollDice function\n\nconst DnDForm = ({ config }) => {\n  const [formData, setFormData] = useState({ sections: {} });\n  const [currentStep, setCurrentStep] = useState(0);\n  const navigate = useNavigate();\n\n  if (!config || !config.sections) {\n    return <p>Конфігурація не знайдена або некоректна.</p>;\n  }\n\n  const handleInputChange = (e, fieldName) => {\n    const { value } = e.target;\n    const sectionName = config.sections[currentStep].name;\n\n    setFormData((prev) => {\n      const updatedSections = {\n        ...prev.sections,\n        [sectionName]: {\n          ...prev.sections[sectionName],\n          [fieldName]: value,\n        },\n      };\n\n      // Automatically calculate the modifier if the field is an attribute\n      const attributeFields = [\"strength\", \"dexterity\", \"constitution\", \"intelligence\", \"wisdom\", \"charisma\"];\n      if (attributeFields.includes(fieldName)) {\n        const attributeValue = parseInt(value, 10);\n        const modifier = isNaN(attributeValue) ? \"\" : Math.floor((attributeValue - 10) / 2);\n        updatedSections[sectionName][`${fieldName}-modifier`] = modifier;\n      }\n\n      return { ...prev, sections: updatedSections };\n    });\n  };\n\n  const handleRoll = async (field, sectionName, formula) => {\n    try {\n      const rollResult = await rollDice(formula);\n      const sortedRolls = rollResult.rolls.map((r) => r.value).sort((a, b) => a - b);\n      const total = sortedRolls.slice(1).reduce((sum, roll) => sum + roll, 0); // Sum the highest 3 rolls\n\n      setFormData((prev) => {\n        const updatedSections = {\n          ...prev.sections,\n          [sectionName]: {\n            ...prev.sections[sectionName],\n            [field]: total,\n          },\n        };\n\n        // Calculate the modifier immediately after rolling\n        const modifier = Math.floor((total - 10) / 2);\n        updatedSections[sectionName][`${field}-modifier`] = modifier;\n\n        return { ...prev, sections: updatedSections };\n      });\n    } catch (err) {\n      console.error(\"Error rolling dice:\", err);\n    }\n  };\n\n  const saveCharacter = async (data) => {\n    try {\n      const token = localStorage.getItem(\"token\"); // Retrieve token from localStorage\n      if (!token) {\n        throw new Error(\"Token not found. Please log in again.\");\n      }\n\n      const response = await fetch(\"/api/characters\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`, // Include token in the header\n        },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to save character: ${response.statusText}`);\n      }\n\n      const result = await response.json();\n      console.log(\"Character saved successfully:\", result);\n    } catch (err) {\n      console.error(\"Error saving character:\", err);\n    }\n  };\n\n  const handleNextStep = async () => {\n    if (currentStep < config.sections.length - 1) {\n      await saveCharacter({ ...formData, system: config.system, version: config.version }); // Додаємо system і version\n      setCurrentStep((prev) => prev + 1);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await saveCharacter({ ...formData, system: config.system, version: config.version }); // Додаємо system і version\n    navigate(`/characters/${formData.sections.General.name}`); // Переходимо на сторінку перегляду\n  };\n\n  const currentSection = config.sections[currentStep];\n\n  return (\n    <form className=\"character-form\" onSubmit={handleSubmit}>\n      <h2 className=\"character-form__title\">{currentSection.name}</h2>\n      {currentSection.fields.map((field) => {\n        const isAttribute = [\"strength\", \"dexterity\", \"constitution\", \"intelligence\", \"wisdom\", \"charisma\"].includes(field.name);\n\n        return (\n          <div key={field.name} className={`character-form__field ${isAttribute ? \"attribute-row\" : \"\"}`}>\n            <label htmlFor={field.name} className=\"character-form__label\">{field.label}</label>\n            <input\n              id={field.name}\n              name={field.name}\n              type={field.type || \"text\"}\n              value={formData.sections[currentSection.name]?.[field.name] || \"\"}\n              required={field.required || false}\n              onChange={(e) => handleInputChange(e, field.name)}\n              className=\"character-form__input\"\n              readOnly={field.readonly || false}\n            />\n            {isAttribute && (\n              <>\n                <input\n                  type=\"text\"\n                  value={formData.sections[currentSection.name]?.[`${field.name}-modifier`] || \"\"}\n                  readOnly\n                  className=\"character-form__input modifier-input\"\n                  placeholder=\"Мод.\"\n                />\n                {field.rollable && field.formula && (\n                  <button\n                    type=\"button\"\n                    className=\"roll-button\"\n                    onClick={() => handleRoll(field.name, currentSection.name, field.formula)}\n                  >\n                    🎲 Roll\n                  </button>\n                )}\n              </>\n            )}\n          </div>\n        );\n      })}\n      <div className=\"character-form__navigation\">\n        {currentStep > 0 && <button type=\"button\" className=\"navigation-button\" onClick={() => setCurrentStep((prev) => prev - 1)}>Назад</button>}\n        {currentStep < config.sections.length - 1 ? (\n          <button type=\"button\" className=\"navigation-button\" onClick={handleNextStep}>Далі</button>\n        ) : (\n          <button type=\"submit\" className=\"save-button\">Зберегти персонажа</button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nexport default DnDForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}