{"ast":null,"code":"import React,{useState}from'react';import'./UserProfile-styles.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditProfile=_ref=>{let{onClose,onSave,currentUsername,currentEmail}=_ref;const[username,setUsername]=useState(currentUsername||'');const[email,setEmail]=useState(currentEmail||'');const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();try{const token=localStorage.getItem('token');const response=await fetch('/api/user/profile',{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({username,email})});if(!response.ok){const data=await response.json();throw new Error(data.message||'Failed to update profile');}const data=await response.json();localStorage.setItem('username',username);localStorage.setItem('email',email);onSave(data);onClose();}catch(err){setError(err.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"edit-profile-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-profile-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438 \\u043F\\u0440\\u043E\\u0444\\u0456\\u043B\\u044C\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"\\u0406\\u043C'\\u044F \\u043A\\u043E\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"save-button\",children:\"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-button\",onClick:onClose,children:\"\\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\"})]})]})]})});};export default EditProfile;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","EditProfile","_ref","onClose","onSave","currentUsername","currentEmail","username","setUsername","email","setEmail","error","setError","handleSubmit","e","preventDefault","token","localStorage","getItem","response","fetch","method","headers","concat","body","JSON","stringify","ok","data","json","Error","message","setItem","err","className","children","onSubmit","htmlFor","type","id","value","onChange","target","required","onClick"],"sources":["/home/mbohach/Документи/personal/tabletop/src/components/EditProfile-component.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './UserProfile-styles.css';\n\nconst EditProfile = ({ onClose, onSave, currentUsername, currentEmail }) => {\n    const [username, setUsername] = useState(currentUsername || '');\n    const [email, setEmail] = useState(currentEmail || '');\n    const [error, setError] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch('/api/user/profile', {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                },\n                body: JSON.stringify({ username, email })\n            });\n\n            if (!response.ok) {\n                const data = await response.json();\n                throw new Error(data.message || 'Failed to update profile');\n            }\n\n            const data = await response.json();\n            localStorage.setItem('username', username);\n            localStorage.setItem('email', email);\n            onSave(data);\n            onClose();\n        } catch (err) {\n            setError(err.message);\n        }\n    };\n\n    return (\n        <div className=\"edit-profile-modal\">\n            <div className=\"edit-profile-content\">\n                <h2>Редагувати профіль</h2>\n                {error && <div className=\"error-message\">{error}</div>}\n                <form onSubmit={handleSubmit}>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"username\">Ім'я користувача:</label>\n                        <input\n                            type=\"text\"\n                            id=\"username\"\n                            value={username}\n                            onChange={(e) => setUsername(e.target.value)}\n                            required\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"email\">Email:</label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                            required\n                        />\n                    </div>\n                    <div className=\"button-group\">\n                        <button type=\"submit\" className=\"save-button\">Зберегти</button>\n                        <button type=\"button\" className=\"cancel-button\" onClick={onClose}>\n                            Скасувати\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default EditProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}